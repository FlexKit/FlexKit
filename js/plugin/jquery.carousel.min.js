(function(d){d.fn.carousel=function(s){var F=d.extend({size:1,speed:200,visible:3,visibletablet:2,visiblemobile:1,vertical:!1,elscroll:!1,scrolling:!0,scrolltime:7E3,inversescroll:!1,margin:10,prev:!0,next:!0,prevclass:!1,nextclass:!1},s||{});return this.each(function(){var h=d(this),s=h.data(),a=JSON.parse(JSON.stringify(F)),a=d.extend(a,s),n=d(window),e,m=a.elscroll?d(this).find(a.elscroll):h.children(),g=m.length,q,l,b=a.visible,G=b,H=b>a.visibletablet?a.visibletablet:b,I=b>a.visiblemobile?a.visiblemobile:
b,f=a.size>b?b:a.size,r,p=a.speed,k=a.vertical,w=a.scrolling,J=a.inversescroll,K=a.scrolltime,x=!0,t=a.prev,u=a.next,y=a.prevclass,z=a.nextclass,v,A,B=!0,C=!0,D=!0;h.hasClass("carousel")||h.addClass("carousel");var c={wrap:function(){c.button();m.addClass("carousel-item").wrapAll('<div class="carousel-clip"><div class="carousel-wrap"></div></div>');e=d(".carousel-wrap",h)},button:function(){t&&u&&!(b>=g)&&x&&(x=!1,h.append(d("<a>").addClass("prev carousel-btn "+(y?y:"")).attr({href:"javascript:;",
title:"Prev",onselectstart:"return false",unselectable:"on"}).html("boolean"!=typeof t?t:"")).append(d("<a>").addClass("next carousel-btn "+(z?z:"")).attr({href:"javascript:;",title:"Next",onselectstart:"return false",unselectable:"on"}).html("boolean"!=typeof u?u:"")))},size:function(){f=a.size>b?b:a.size;f=f>g-b?g-b:f},style:function(){r=a.margin/h.width()*100/(g>b?g/b:1);q=m.height();l=m.outerHeight(!0);m.each(function(){q<d(this).height()&&(q=d(this).height());l<d(this).outerHeight(!0)&&(l=d(this).outerHeight(!0))});
h.find(".carousel-clip").css({height:k?l*b:""});e.css({width:k?"":100*g/b+"%",height:k?l*g:""});m.css({width:k?"100%":(g>b?100/g:100/b)-(1!=b?2*r:0)+"%",height:k?q:"","margin-left":k?"0":(1!=b?r:0)+"%","margin-right":k?"0":(1!=b?r:0)+"%"}).addClass("carousel-item")},btnClick:function(b){clearInterval(v);clearTimeout(A);b?c.next():c.prev();w&&(A=setTimeout(function(){c.autoScrolling()},p))},prev:function(){e.children(":gt("+(g-f-1)+")").prependTo(e);k?d(e).stop(!1,!1).css({"margin-top":-l*f+"px"}).animate({marginTop:"0px"},
p):d(e).stop(!1,!1).css({"margin-left":-100*f/b+"%"}).animate({marginLeft:"0px"},p)},next:function(){k?d(e).stop(!0,!0).animate({marginTop:-l*f+"px"},p,function(){e.children(":lt("+f+")").appendTo(e);e.css({"margin-top":"0px"})}):d(e).stop(!0,!0).animate({marginLeft:-100*f/b+"%"},p,function(){e.children(":lt("+f+")").appendTo(e);e.css({"margin-left":"0px"})})},device:function(){800<=n.width()&&B?c.responsive(!1,!0,!0):800>=n.width()&&480<=n.width()&&C?c.responsive(!0,!1,!0):480>=n.width()&&D&&c.responsive(!0,
!0,!1)},responsive:function(a,e,f){B=a;C=e;D=f;a?e?f||(b=I):b=H:b=G;c.size();c.style();b>=g?(d(".carousel-btn",h).remove(),clearInterval(v)):(c.button(),c.autoScrolling())},autoScrolling:function(){var a=J?c.prev:c.next;v=!w||b>=g?"":setInterval(a,K)}};c.wrap();c.device();d(this).on("click",".prev",function(){c.btnClick(!1)});d(this).on("click",".next",function(){c.btnClick(!0)});k||n.resize(function(){c.device()});if(void 0!==typeof jQuery().hammer&&void 0!==device&&device.type)if(k)h.hammer().on("swipeup",
function(){c.btnClick(!0)}).on("swipedown",function(){c.btnClick(!1)});else h.hammer().on("swipeleft",function(){c.btnClick(!0)}).on("swiperight",function(){c.btnClick(!1)});console.log("-- carousel init: ",this);for(var E in a)console.log("[carousel] "+E+": "+a[E])})}})(jQuery);$(function(){$(".carousel").carousel();$.event.trigger({type:"carouselInit"})});
