(function(d){d.fn.carousel=function(t){var H=d.extend({size:1,speed:200,visible:3,visibletablet:2,visiblemobile:1,vertical:!1,elscroll:!1,scrolling:!0,scrolltime:7E3,inversescroll:!1,margin:10,prev:!0,next:!0,prevclass:!1,nextclass:!1},t||{});return this.each(function(){var g=d(this),m=g.data(),a=JSON.parse(JSON.stringify(H)),a=d.extend(a,m),p=d(window),e,n=a.elscroll?d(this).find(a.elscroll):g.children(),h=n.length,r,l,b=a.visible,t=b,I=b>a.visibletablet?a.visibletablet:b,J=b>a.visiblemobile?a.visiblemobile:
b,k=a.size>b?b:a.size,s,q=a.speed,f=a.vertical,x=a.scrolling,K=a.inversescroll,L=a.scrolltime,y=!0,u=a.prev,v=a.next,z=a.prevclass,A=a.nextclass,w,B,C=!0,D=!0,E=!0;if(g.find("img").length&&f&&!a.img){var F=0;g.find("img").each(function(){var b=d(this).get(0),c=new Image;c.onload=function(){F++;g.find("img").length===F&&g.carousel(d.extend(a,{img:!0}))};c.src=b.src})}else{g.hasClass("carousel")||g.addClass("carousel");var c={wrap:function(){c.button();n.addClass("carousel-item").wrapAll('<div class="carousel-clip"><div class="carousel-wrap"></div></div>');
e=d(".carousel-wrap",g)},button:function(){u&&v&&b<h&&y&&(y=!1,g.append(d("<a/>",{href:"javascript:void(0);",title:"Prev",onselectstart:"return false",unselectable:"on","class":"prev carousel-btn "+(z?z:""),html:"boolean"!==typeof u?u:""})).append(d("<a/>",{href:"javascript:void(0);",title:"Next",onselectstart:"return false",unselectable:"on","class":"next carousel-btn "+(A?A:""),html:"boolean"!==typeof v?v:""})))},size:function(){k=a.size>b?b:a.size;k=k>h-b?h-b:k},style:function(){s=a.margin/g.width()*
100/(h>b?h/b:1);r=n.height();l=n.outerHeight(!0);n.each(function(){r<d(this).height()&&(r=d(this).height());l<d(this).outerHeight(!0)&&(l=d(this).outerHeight(!0))});g.find(".carousel-clip").css({height:f?l*b:""});e.css({width:f?"":100*h/b+"%",height:f?l*h:""});n.css({width:f?"100%":(h>b?100/h:100/b)-(1!==b?2*s:0)+"%",height:f?r:"","margin-left":f?"0":(1!==b?s:0)+"%","margin-right":f?"0":(1!==b?s:0)+"%"}).addClass("carousel-item")},btnClick:function(b){clearInterval(w);clearTimeout(B);b?c.next():c.prev();
x&&(B=setTimeout(function(){c.autoScrolling()},q))},prev:function(){e.children(":gt("+(h-k-1)+")").prependTo(e);f?d(e).stop(!1,!1).css({"margin-top":-l*k+"px"}).animate({marginTop:"0"},q):d(e).stop(!1,!1).css({"margin-left":-100*k/b+"%"}).animate({marginLeft:"0"},q)},next:function(){f?e.stop(!0,!0).animate({marginTop:-l*k+"px"},q,function(){e.children(":lt("+k+")").appendTo(e);e.css({"margin-top":"0"})}):e.stop(!0,!0).animate({marginLeft:-100*k/b+"%"},q,function(){e.children(":lt("+k+")").appendTo(e);
e.css({"margin-left":"0"})})},device:function(){800<=p.width()&&C?c.responsive(!1,!0,!0):800>=p.width()&&480<=p.width()&&D?c.responsive(!0,!1,!0):480>=p.width()&&E&&c.responsive(!0,!0,!1)},responsive:function(a,e,f){C=a;D=e;E=f;a?e?f||(b=J):b=I:b=t;c.size();c.style();b>=h?(d(".carousel-btn",g).remove(),clearInterval(w)):(c.button(),c.autoScrolling())},autoScrolling:function(){var a=K?c.prev:c.next;w=x&&b<h?setInterval(a,L):""}};c.wrap();c.device();d(this).on("click",".prev",function(){c.btnClick(!1)});
d(this).on("click",".next",function(){c.btnClick(!0)});f||p.resize(function(){c.device()});void 0!==typeof window.Hammer&&void 0!==device&&device.type&&(m=new Hammer(g.get(0),{domEvents:!0}),f?(m.on("swipeup",function(){c.btnClick(!0)}),m.on("swipedown",function(){c.btnClick(!1)})):(m.on("swipeleft",function(){c.btnClick(!0)}),m.on("swiperight",function(){c.btnClick(!1)})));console.log("-- carousel init: ",this);for(var G in a)console.log("[carousel] "+G+": "+a[G])}})}})(jQuery);
$(function(){$(".carousel").carousel();$.event.trigger({type:"carouselInit"})});
