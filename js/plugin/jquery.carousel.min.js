(function(d){d.fn.carousel=function(s){var G=d.extend({size:1,speed:200,visible:3,visibletablet:2,visiblemobile:1,vertical:!1,elscroll:!1,scrolling:!0,scrolltime:7E3,inversescroll:!1,margin:10,prev:!0,next:!0,prevclass:!1,nextclass:!1},s||{});return this.each(function(){var f=d(this),s=f.data(),a=JSON.parse(JSON.stringify(G)),a=d.extend(a,s),n=d(window),e,m=a.elscroll?d(this).find(a.elscroll):f.children(),h=m.length,q,l,b=a.visible,H=b,I=b>a.visibletablet?a.visibletablet:b,J=b>a.visiblemobile?a.visiblemobile:
b,k=a.size>b?b:a.size,r,p=a.speed,g=a.vertical,w=a.scrolling,K=a.inversescroll,L=a.scrolltime,x=!0,t=a.prev,u=a.next,y=a.prevclass,z=a.nextclass,v,A,B=!0,C=!0,D=!0;if(f.find("img").length&&g&&!a.img){var E=0;f.find("img").each(function(){var b=d(this).get(0),c=new Image;c.onload=function(){E++;f.find("img").length===E&&f.carousel(d.extend(a,{img:!0}))};c.src=b.src})}else{f.hasClass("carousel")||f.addClass("carousel");var c={wrap:function(){c.button();m.addClass("carousel-item").wrapAll('<div class="carousel-clip"><div class="carousel-wrap"></div></div>');
e=d(".carousel-wrap",f)},button:function(){t&&u&&!(b>=h)&&x&&(x=!1,f.append(d("<a>").addClass("prev carousel-btn "+(y?y:"")).attr({href:"javascript:;",title:"Prev",onselectstart:"return false",unselectable:"on"}).html("boolean"!=typeof t?t:"")).append(d("<a>").addClass("next carousel-btn "+(z?z:"")).attr({href:"javascript:;",title:"Next",onselectstart:"return false",unselectable:"on"}).html("boolean"!=typeof u?u:"")))},size:function(){k=a.size>b?b:a.size;k=k>h-b?h-b:k},style:function(){r=a.margin/
f.width()*100/(h>b?h/b:1);q=m.height();l=m.outerHeight(!0);m.each(function(){q<d(this).height()&&(q=d(this).height());l<d(this).outerHeight(!0)&&(l=d(this).outerHeight(!0))});f.find(".carousel-clip").css({height:g?l*b:""});e.css({width:g?"":100*h/b+"%",height:g?l*h:""});m.css({width:g?"100%":(h>b?100/h:100/b)-(1!=b?2*r:0)+"%",height:g?q:"","margin-left":g?"0":(1!=b?r:0)+"%","margin-right":g?"0":(1!=b?r:0)+"%"}).addClass("carousel-item")},btnClick:function(b){clearInterval(v);clearTimeout(A);b?c.next():
c.prev();w&&(A=setTimeout(function(){c.autoScrolling()},p))},prev:function(){e.children(":gt("+(h-k-1)+")").prependTo(e);g?d(e).stop(!1,!1).css({"margin-top":-l*k+"px"}).animate({marginTop:"0px"},p):d(e).stop(!1,!1).css({"margin-left":-100*k/b+"%"}).animate({marginLeft:"0px"},p)},next:function(){g?d(e).stop(!0,!0).animate({marginTop:-l*k+"px"},p,function(){e.children(":lt("+k+")").appendTo(e);e.css({"margin-top":"0px"})}):d(e).stop(!0,!0).animate({marginLeft:-100*k/b+"%"},p,function(){e.children(":lt("+
k+")").appendTo(e);e.css({"margin-left":"0px"})})},device:function(){800<=n.width()&&B?c.responsive(!1,!0,!0):800>=n.width()&&480<=n.width()&&C?c.responsive(!0,!1,!0):480>=n.width()&&D&&c.responsive(!0,!0,!1)},responsive:function(a,e,g){B=a;C=e;D=g;a?e?g||(b=J):b=I:b=H;c.size();c.style();b>=h?(d(".carousel-btn",f).remove(),clearInterval(v)):(c.button(),c.autoScrolling())},autoScrolling:function(){var a=K?c.prev:c.next;v=!w||b>=h?"":setInterval(a,L)}};c.wrap();c.device();d(this).on("click",".prev",
function(){c.btnClick(!1)});d(this).on("click",".next",function(){c.btnClick(!0)});g||n.resize(function(){c.device()});if(void 0!==typeof jQuery().hammer&&void 0!==device&&device.type)if(g)f.hammer().on("swipeup",function(){c.btnClick(!0)}).on("swipedown",function(){c.btnClick(!1)});else f.hammer().on("swipeleft",function(){c.btnClick(!0)}).on("swiperight",function(){c.btnClick(!1)});console.log("-- carousel init: ",this);for(var F in a)console.log("[carousel] "+F+": "+a[F])}})}})(jQuery);
$(function(){$(".carousel").carousel();$.event.trigger({type:"carouselInit"})});
